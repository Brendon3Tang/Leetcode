# 背包问题总结(copy from:代码随想录，作者：程序员Carl)

在讲解背包问题的时候，都是按照如下五部来逐步分析:
1. 确定dp数组（dp table）以及下标的含义
2. 确定递推公式
3. dp数组如何初始化
4. 确定遍历顺序
5. 举例推导dp数组  
   
其实这五部⾥哪⼀步都很关键，但确定递推公式和确定遍历顺序都具有规律性和代表性，所以下⾯我从这两点来对背包问题做⼀做总结。

## 背包递推公式
### 问能否能装满背包（或者最多装多少）：
**dp[j] = max(dp[j], dp[j - nums[i]] + nums[i]);** ，对应题⽬如下：
- 动态规划：416.分割等和⼦集
- 动态规划：1049.最后⼀块⽯头的重量 II

### 问装满背包有⼏种⽅法：
**dp[j] += dp[j - nums[i]]** ，对应题⽬如下：
- 动态规划：494.⽬标和
- 动态规划：518. 零钱兑换 II
- 动态规划：377.组合总和Ⅳ
- 动态规划：70. 爬楼梯进阶版（完全背包）

### 问背包装满最⼤价值：
**dp[j] = max(dp[j], dp[j - weight[i]] + value[i]);**，对应题⽬如下：
- 动态规划：474.⼀和零
  
### 问装满背包所有物品的最⼩个数：
**dp[j] = min(dp[j - coins[i]] + 1, dp[j]);**，对应题⽬如下：
- 动态规划：322.零钱兑换
- 动态规划：279.完全平⽅数

## 遍历顺序
### 01背包

⼆维dp数组01背包先遍历物品还是先遍历背包都是可以的，且第⼆层for循环是从⼩到⼤遍历。⼀维dp数组01背包只能先遍历物品再遍历背包容量，且第⼆层for循环是从⼤到⼩遍历。⼀维dp数组的背包在遍历顺序上和⼆维dp数组实现的01背包其实是有很⼤差异的，⼤家需要注意！

### 完全背包

说完01背包，再看看完全背包。纯完全背包的⼀维dp数组，先遍历物品还是先遍历背包都是可以的，且第⼆层for循环是从⼩到⼤遍历。但是仅仅是纯完全背包的遍历顺序是这样的，题⽬稍有变化，两个for循环的先后顺序就不⼀样了。如果求组合数就是外层for循环遍历物品，内层for遍历背包。如果求排列数就是外层for遍历背包，内层for循环遍历物品。相关题⽬如下：
- 求组合数：动态规划：518.零钱兑换II
- 求排列数：动态规划：377. 组合总和 Ⅳ、动态规划：70. 爬楼梯进阶版（完全背包）
  
如果求最⼩数，那么两层for循环的先后顺序就⽆所谓了，相关题⽬如下：
- 求最⼩数：动态规划：322. 零钱兑换
- 动态规划：279.完全平⽅数
对于背包问题，其实递推公式算是容易的，难是难在遍历顺序上，如果把遍历顺序搞透，才算是真正理解了。